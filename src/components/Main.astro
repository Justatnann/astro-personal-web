---
import "../styles/global.css";
import { Image } from "astro:assets";
import profilePic from "../assets/photo.png";
---

<main class="pt-16 pb-24">
  <section class="max-w-[1200px] mx-auto px-6 space-y-6">

    <!-- Intro Card -->
    
      <h1 class="font-dot text-5xl text-center tracking-wide">
        An Intr0duct1on
      </h1>
   

    <!-- Main Grid -->
    <div class="grid grid-rows-[auto_auto] gap-1.5">

      <!-- Image + Name -->
      <div class="flex gap-1.5 items-stretch">

        <!-- Image -->
        <div class="flex-[1.2] bg-zinc-700 border border-white/20 rounded-tl-4xl overflow-hidden">
          <Image
            class="w-full h-full object-cover"
            src={profilePic}
            alt="Justatnann Profile Picture"
          />
        </div>

        <!-- Right Content -->
        <div class="flex-[2.8] flex flex-col gap-1.5">

          <!-- Name Card -->
          <div class="relative bg-white border border-white/20 p-6 flex flex-col justify-center  flex-1">
            <div class="absolute right-0 top-0 w-4 h-4 bg-red-600"></div>

            <p class="font-archimotov-bold text-4xl md:text-5xl lg:text-6xl text-right">
              Atnan Ari Anders0n
            </p>

            <div class="border my-2"></div>

            <p class="font-archimotov text-xl md:text-2xl text-right">
              Aspiring Mobile Developer
            </p>
          </div>

          <!-- Social Links -->
          <div class="grid grid-cols-4 gap-1.5">
            <div class="bg-white rounded-l-4xl  p-4 text-center hover:bg-blue-800 hover:text-white transition">
              Linkedin ↗
            </div>
            <div class="bg-white rounded-r-4xl  p-4 text-center hover:bg-zinc-800 hover:text-white transition">
              Github ↗
            </div>
            <div class="bg-white rounded-l-4xl  p-4 text-center hover:bg-pink-700 hover:text-white transition">
              Instagram ↗
            </div>
            <div class="bg-white rounded-r-4xl  p-4 text-center hover:bg-blue-800 hover:text-white transition">
              Facebook ↗
            </div>
          </div>

        </div>
      </div>

      <!-- Bio + Binary -->
      <div class="flex gap-1.5">

        <div class="flex-[2] bg-white border border-white/20 rounded-l-full p-10 text-right">
          <p class="font-archimotov text-lg md:text-xl leading-relaxed">
            Hello! I'm Atnan, a passionate mobile developer. I love creating
            innovative mobile applications that make a difference. When I'm not
            coding, you can find me exploring the latest tech trends or working
            on personal projects to sharpen my skills.
          </p>
        </div>

        <div id="binary-card" class=" cursor-pointer flex-[1] bg-white border border-white/20 rounded-br-4xl px-4 flex items-center text-center">
          <p id="binary-text" class="font-archimotov text-center cursor-pointer text-sm md:text-base">
            "01101010 01110101 01110011 01110100 00100000 01100001 00100000
            01100100 01100101 01110110 01100101 01101100 01101111 01110000
            01100101 01110010 00100000 01110111 01100001 01101110 01101110
            01100001 01100010 01100101"
          </p>
        </div>

      </div>
    </div>
  </section>
</main>

<script>
  const el = document.getElementById("binary-text");
  const card = document.getElementById("binary-card");
  const oldText =  "\"01101010 01110101 01110011 01110100 00100000 01100001 00100000 01100100 01100101 01110110 01100101 01101100 01101111 01110000 01100101 01110010 00100000 01110111 01100001 01101110 01101110 01100001 01100010 01100101\"";

  const finalText = "\"just a developer wannabe\"";

  // Generate binary string of SAME length
  const binaryText = finalText
    .split("")
    .map(c => (c === " " ? " " : Math.random() > 0.5 ? "0" : "1"))
    .join("");

  const chars = "01";
  let interval = null;

  function animate(target) {
    clearInterval(interval);
    let iterations = 0;

    interval = setInterval(() => {
      el.textContent = target
        .split("")
        .map((char, i) => {
          if (char === " ") return " ";
          if (i < iterations) return char;
          return chars[Math.floor(Math.random() * chars.length)];
        })
        .join("");

      if (iterations >= target.length) {
        clearInterval(interval);
      }

      iterations += 0.5;
    }, 30);
  }

  card.addEventListener("mouseenter", () => animate(finalText));
  card.addEventListener("mouseleave", () => {clearInterval(interval); el.textContent = oldText;});
</script>